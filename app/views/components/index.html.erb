<!--Displays the index page for the positions-->
<h1 align="center">All Components</h1>

<div class="row hidden-print">
	<div class="col-md-12 center">
		<%= link_to "Create new component", new_component_path, class: "btn btn-s btn-primary btn-top" %>
		<%= link_to "View all activities", activities_path, class: "btn btn-s btn-info btn-top" %>
		<%= link_to "View all positions", positions_path, class: "btn btn-s btn-info btn-top" %>
		<%= link_to 'Export to Excel', components_path(format: :xlsx), class: "btn btn-s btn-default btn-top" %>
	</div>
	<form class="col-md-12 form-inline btn-top">
		<div class="form-group">
			<%= form_tag components_path, :method => 'get' do %>
			<%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search components by name" %>
			<%= submit_tag "Search", class: "btn btn-default btn-s" %>
			<% end %>
		</div>
	</form>
</div>
<table class="table table-condensed bg-white sortable">
	<tr>
		<th>Component</th>
		<th>Description</th>
		<th>Cost</th>
		<th>Activity</th>
		<th class="hidden-print">Actions</th>
	</tr>
	<!--Goes through each row in the DB and displays them in the table-->
	<% @components.each do |c| %>
	<tr>
		<td><%= link_to c.component_name, component_path(c) %></td>
		<td><%= truncate(c.description, length: 30) %></td>
		<td><%= number_to_currency(c.cost) %></td>
		<td><%= link_to c.activity.activity_name, activity_path(c.activity) %></td>
		<td class="hidden-print"><%= link_to 'Edit', edit_component_path(c), class: "btn btn-warning btn-xs" %>
			<%= link_to 'Delete', component_path(c), method: :delete, data: {confirm: "Delete component?"}, class: "btn btn-danger btn-xs" %></td>
	</tr>
	<% end %>
</table>
